const teamsNavigation=document.querySelector(".teams-navigation"),teamButtons=teamsNavigation.querySelectorAll("button[data-source]"),teamsContentWrapper=document.querySelector("#teams-content-wrapper"),formatDate=(e,t=0)=>{if(!e)return"";const n=new Date(e);if("dd. mm. yyyy"===t)return`${n.getDate()}. ${n.getMonth()+1}. ${n.getFullYear()}`;if("dddd DD. mmmm"===t){return`${["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"][n.getDay()]} ${n.getDate()}. ${["ledna","února","března","dubna","května","června","července","srpna","září","října","listopadu","prosince"][n.getMonth()]}`}return""},updateMenu=e=>{let t="";e.length&&(t+='<ul class="grid grid-cols-1 gap-2 bg-gray px-8 py-4">',e.forEach((e=>{t+=`\n            <li>\n            <a href="${e.url}" class="flex items-center gap-4 font-bold uppercase leading-5 text-secondary hover:underline">\n            <svg width="1" height="5" class="fill-secondary"><use xlink:href="#divider" class="block"></use></svg>\n            ${e.name}\n            </a>\n            </li>\n            `})),t+="</ul>"),teamsContentWrapper.querySelector("#team-menu").innerHTML=t},updateArticles=e=>{let t="";e.list.length?(e.list.forEach(((e,n)=>{t+=`\n                <li class="group relative">\n                    <article aria-labelledby="sub-article-${n}" class="grid grid-cols-1 gap-2 sm:grid-cols-articles sm:gap-8">\n                        <div class="relative aspect-video overflow-hidden">\n                            <img\n                                srcset="${e.thumbnail.small} 295w, ${e.thumbnail.large} 440w"\n                                sizes="(min-width: 672px) 295px, 100vw"\n                                src="${e.thumbnail.default}"\n                                class="w-full object-cover object-center"\n                                loading="lazy"\n                                width="295"\n                                height="166"\n                                alt=""\n                            />\n                            <time\n                                class="absolute right-4 bottom-2 rounded-[20px_3px_20px_3px] bg-secondary px-4 py-2 text-sm font-bold leading-4 text-white group-hover:bg-primary"\n                                datetime="${e.date}"\n                            >\n                            ${formatDate(e.date,"dd. mm. yyyy")}\n                            </time>\n                        </div>\n                        <div class="flex flex-col">\n                            <b class="mb-1 text-xs uppercase leading-15 text-secondary">${e.category}</b>\n                            <h2\n                                id="sub-article-${n}"\n                                class="mb-2 text-xl font-bold leading-26 text-primary group-hover:underline"\n                            >\n                                ${e.title}\n                            </h2>\n                            <p class="overflow-ellipsis font-light leading-6" style="--text-lines: 3">${e.perex}</p>\n                        </div>\n                    </article>\n                    <a href="${e.url}" class="z-40 after:absolute after:inset-0"></a>\n                </li>\n            `})),t+=`\n            <li class="flex justify-end">\n                <a href="${e.archive}" class="btn btn-secondary w-full py-4 sm:w-auto sm:py-2">\n                    <svg width="14" height="13">\n                        <use xlink:href="#button-hamburger"></use>\n                    </svg>\n                    Další články\n                </a>\n            </li>\n        `):t='<li class="text-center px-8 py-8 bg-gray">Nebyly nalezeny žádné články.</li>',teamsContentWrapper.querySelector("#team-articles").innerHTML=t},updateMatches=e=>{if(e.played&&!e.future)return;const{played:t,future:n}=e;let a="";t||n?(t&&(a+=`\n            <div class="py-10 px-4 xs:px-8">\n                <div class="text-center">\n                    <time class="font-bold leading-22" datetime="${t.date}">${formatDate(t.date,"dddd DD. mmmm")}</time>\n                    <div class="text-sm font-light leading-normal">${t.round}, ${t.league}</div>\n                </div>\n                <div class="grid grid-cols-heroMatches items-center justify-between gap-4">\n                    <div class="flex justify-start">\n                        <div class="flex flex-col items-center justify-center gap-2">\n                            <img\n                                src="${t.homeTeam.logo}"\n                                width="64"\n                                height="64"\n                                class="aspect-square object-contain"\n                                loading="lazy"\n                                alt="Team logo"\n                            />\n                            <b class="hidden text-center leading-5 sm:block">${t.homeTeam.name}</b>\n                            <b class="block text-center leading-5 sm:hidden">${t.homeTeam.shortcut}</b>\n                        </div>\n                    </div>\n                    <div class="flex justify-center">\n                        <a href="${t.url}" class="group flex justify-center gap-[1px]" title="Přejít na detail zápasu">\n                            <span\n                                class="grid h-12 w-12 content-center rounded-[20px_3px_3px_3px] bg-secondary text-center text-2xl font-bold leading-8 text-white transition-colors duration-150 ease-linear group-hover:bg-secondary-dark"\n                            >\n                                ${t.score.home}\n                            </span>\n                            <span\n                                class="grid h-12 w-12 content-center rounded-[3px_3px_20px_3px] bg-secondary text-center text-2xl font-bold leading-8 text-white transition-colors duration-150 ease-linear group-hover:bg-secondary-dark"\n                            >\n                                ${t.score.visitor}\n                            </span>\n                        </a>\n                    </div>\n                    <div class="flex justify-end">\n                        <div class="flex flex-col items-center justify-center gap-2">\n                            <img\n                                src="${t.visitorTeam.logo}"\n                                width="64"\n                                height="64"\n                                class="aspect-square object-contain"\n                                loading="lazy"\n                                alt="Team logo"\n                            />\n                            <b class="hidden text-center leading-5 sm:block">${t.visitorTeam.name}</b>\n                            <b class="block text-center leading-5 sm:hidden">${t.visitorTeam.shortcut}</b>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `),n&&(a+=`\n            <div class="${t?"border-t border-t-secondary":""} py-10 px-4 xs:px-8">\n                <div class="text-center">\n                    <time class="font-bold leading-22" datetime="${n.date}">${formatDate(n.date,"dddd DD. mmmm")}</time>\n                    <div class="text-sm font-light leading-normal">${n.round}, ${n.league}</div>\n                    ${n.stadium?`<div class="mt-1 flex items-center justify-center gap-2 text-xs font-light">\n                                    <svg width="10" height="12">\n                                        <use xlink:href="#location"></use>\n                                    </svg>\n                                    ${n.stadium}\n                                </div>`:""}\n                </div>\n                <div class="grid grid-cols-heroMatches items-center justify-between gap-4">\n                    <div class="flex justify-start">\n                        <div class="flex flex-col items-center justify-center gap-2">\n                            <img\n                                src="${n.homeTeam.logo}"\n                                width="64"\n                                height="64"\n                                class="aspect-square object-contain"\n                                loading="lazy"\n                                alt="Team logo"\n                            />\n                            <b class="hidden text-center leading-5 sm:block">${n.homeTeam.name}</b>\n                            <b class="block text-center leading-5 sm:hidden">${n.homeTeam.shortcut}</b>\n                        </div>\n                    </div>\n                    <div class="flex justify-center">\n                        <time\n                            class="rounded-[20px_3px_20px_3px] bg-secondary px-6 py-3 text-center text-xl font-bold leading-25 text-white"\n                            datetime="${n.time}"\n                        >\n                            ${n.time}\n                        </time>\n                    </div>\n                    <div class="flex justify-end">\n                        <div class="flex flex-col items-center justify-center gap-2">\n                            <img\n                                src="${n.visitorTeam.logo}"\n                                width="64"\n                                height="64"\n                                class="aspect-square object-contain"\n                                loading="lazy"\n                                alt="Team logo"\n                            />\n                            <b class="hidden text-center leading-5 sm:block">${n.visitorTeam.name}</b>\n                            <b class="block text-center leading-5 sm:hidden">${n.visitorTeam.shortcut}</b>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `)):a='<p class="text-center px-8 py-8 bg-gray mt-4">Nebyly nalezeny žádné aktuální zápasy.</p>',teamsContentWrapper.querySelector("#team-matches").innerHTML=a},fetchData=async e=>{const t=document.createElement("div");t.classList.add("flex","col-span-3","items-center","justify-center","gap-2","h-12","absolute","z-10","bg-white","inset-0"),t.style.height="100%",t.innerHTML='       \n            <span class="spinner"></span>\n            Hledám informace o týmu...\n        ',teamsContentWrapper.prepend(t);const n=await fetch(e,{method:"GET"});if(n.ok){const e=await n.json();e&&(updateMenu(e.menu),updateMatches(e.matches),updateArticles(e.articles),t.remove())}},handleTeamButtonClick=e=>{if("page"===e.target.getAttribute("aria-current"))return;localStorage.setItem("current-category",e.target.dataset.category);const t=e.target.dataset.source;t&&(fetchData(t),document.querySelector('.teams-navigation [aria-current="page"]').removeAttribute("aria-current"),e.target.setAttribute("aria-current","page"))};teamButtons&&teamsContentWrapper&&teamButtons.forEach((e=>{e.addEventListener("click",handleTeamButtonClick)}));const loadCategoryData=e=>{e&&document.querySelector(`.teams-navigation [data-category="${e}"]`).click()};loadCategoryData(localStorage.getItem("current-category"));